
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration - Enejistats</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select, textarea { width: 100%; padding: 8px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 4px; }
        button { background-color: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #0056b3; }
        .error { color: red; margin: 10px 0; }
        .success { color: green; margin: 10px 0; }
        .conditional { display: none; }
    </style>
</head>
<body>
    <h1>User Registration</h1>
    
    {% if message %}
    <div class="error">{{ message }}</div>
    {% endif %}
    
    {% if success %}
    <div class="success">{{ success }}</div>
    {% endif %}
    
    <form method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="userType">User Type:</label>
            <select name="userType" id="userType" required onchange="toggleFields()">
                <option value="">Select User Type</option>
                <option value="player">Player</option>
                <option value="club">Club</option>
                <option value="scout">Scout</option>
            </select>
        </div>
        
        <div id="playerFields" class="conditional">
            <div class="form-group">
                <label for="firstName">First Name:</label>
                <input type="text" name="firstName" id="firstName" required>
            </div>
            
            <div class="form-group">
                <label for="middleName">Middle Name:</label>
                <input type="text" name="middleName" id="middleName">
            </div>
            
            <div class="form-group">
                <label for="lastName">Last Name:</label>
                <input type="text" name="lastName" id="lastName" required>
            </div>
            
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" name="email" id="email" required>
            </div>
            
            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" name="password" id="password" required minlength="6">
            </div>
            
            <div class="form-group">
                <label for="dob">Date of Birth:</label>
                <input type="date" name="dob" id="dob" required>
            </div>
            
            <div class="form-group">
                <label for="gender">Gender:</label>
                <select name="gender" id="gender" required>
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="playerNationality">Nationality:</label>
                <input type="text" name="playerNationality" id="playerNationality" required>
            </div>
            
            <div class="form-group">
                <label for="playerPhoto">Player Photo (max 20KB):</label>
                <input type="file" name="playerPhoto" id="playerPhoto" accept="image/*">
            </div>
            
            <div class="form-group">
                <label for="preferredPositionCategory">Preferred Position Category:</label>
                <select name="preferredPositionCategory" id="preferredPositionCategory" required>
                    <option value="">Select Category</option>
                    <option value="goalkeeper">Goalkeeper</option>
                    <option value="defender">Defender</option>
                    <option value="midfielder">Midfielder</option>
                    <option value="forward">Forward</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="preferredPosition">Preferred Position:</label>
                <input type="text" name="preferredPosition" id="preferredPosition">
            </div>
            
            <div class="form-group">
                <label for="dominantFoot">Dominant Foot:</label>
                <select name="dominantFoot" id="dominantFoot" required>
                    <option value="">Select Foot</option>
                    <option value="left">Left</option>
                    <option value="right">Right</option>
                    <option value="both">Both</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="height">Height (cm):</label>
                <input type="number" name="height" id="height" required min="100" max="250">
            </div>
            
            <div class="form-group">
                <label for="weight">Weight (kg):</label>
                <input type="number" name="weight" id="weight" required min="30" max="200">
            </div>
            
            <div class="form-group">
                <label for="league">League:</label>
                <select name="league" id="league" required onchange="toggleClubFields()">
                    <option value="">Select League</option>
                    <option value="npfl">NPFL</option>
                    <option value="nnl1">NNL1</option>
                    <option value="nnl2">NNL2</option>
                    <option value="academy">Academy</option>
                    <option value="street">Street</option>
                    <option value="university">University</option>
                </select>
            </div>
            
            <div id="leagueClubField" class="form-group conditional">
                <label for="leagueClub">League Club:</label>
                <input type="text" name="leagueClub" id="leagueClub">
            </div>
            
            <div id="generalClubField" class="form-group conditional">
                <label for="generalClub">Club/Team:</label>
                <input type="text" name="generalClub" id="generalClub">
            </div>
            
            <div class="form-group">
                <label for="clubAssociation">Associated with a club?</label>
                <select name="clubAssociation" id="clubAssociation" required onchange="toggleAssociatedClub()">
                    <option value="">Select</option>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
            </div>
            
            <div id="associatedClubField" class="form-group conditional">
                <label for="club">Associated Club:</label>
                <input type="text" name="club" id="club">
            </div>
        </div>
        
        <button type="submit">Register</button>
    </form>
    
    <script>
        function toggleFields() {
            const userType = document.getElementById('userType').value;
            const playerFields = document.getElementById('playerFields');
            
            if (userType === 'player') {
                playerFields.style.display = 'block';
            } else {
                playerFields.style.display = 'none';
            }
        }
        
        function toggleClubFields() {
            const league = document.getElementById('league').value;
            const leagueClubField = document.getElementById('leagueClubField');
            const generalClubField = document.getElementById('generalClubField');
            
            if (['npfl', 'nnl1', 'nnl2', 'academy'].includes(league)) {
                leagueClubField.style.display = 'block';
                generalClubField.style.display = 'none';
            } else if (['street', 'university'].includes(league)) {
                leagueClubField.style.display = 'none';
                generalClubField.style.display = 'block';
            } else {
                leagueClubField.style.display = 'none';
                generalClubField.style.display = 'none';
            }
        }
        
        function toggleAssociatedClub() {
            const clubAssociation = document.getElementById('clubAssociation').value;
            const associatedClubField = document.getElementById('associatedClubField');
            
            if (clubAssociation === 'yes') {
                associatedClubField.style.display = 'block';
            } else {
                associatedClubField.style.display = 'none';
            }
        }
    </script>
</body>
</html>
